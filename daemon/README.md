# Daemon

## Deployment

1. Upload daemon to the server. The latest version can be found [here](https://github.com/zolbooo/powerhusky/actions/workflows/build-daemon.yml).

2. Unzip daemon, if necessary.

3. Give execute permission to service: `chmod +x powerhusky-daemon`

4. Create configuration file: `/etc/powerhusky.conf.json` with contents:

   ```json
   {
     "rpc": {
       "token": "<your token>"
     }
   }
   ```

   Token could be generated by using following command: `openssl rand -base64 16`. **Make sure to add `DAEMON_SECRET` in the cloud function config!**

5. Install service: `sudo ./powerhusky-daemon install`. **Note**: root permissions are required

6. Check if service is enabled and running: `sudo systemctl state powerhusky`

7. Open port 2333 in your firewall.
